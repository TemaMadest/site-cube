$(function(){var t=$("#wrapper").width(),n=0,e=0,r=document,i=window,a=$(window).width(),s="",o=[$(".gr1"),$(".gr2"),$(".gr3"),$(".gr4")],c=!1,d=$("nav").find(".active"),l=o[0],f=function(){setTimeout(function(){c=!1},1500)},h=function(t){$("nav").find("a").removeClass("active"),$(t).addClass("active"),d=$(t)},p=function(t,n){return"prev"==n?$(t).parent().prev("li").index():"post"==n?$(t).parent().next("li").index():$(t).parent().index()},x=function(){n+=90,$("section").css({transform:"perspective(900px) translate3d(0px,0px,"+t/-2+"px) rotate3d(0,1,0,"+n+"deg)"}),l=l.index()>0?o[l.index()-1]:o[3],s=d.attr("href"),v(s,l),f()},u=function(){n-=90,$("section").css({transform:"perspective(900px) translate3d(0px,0px,"+t/-2+"px) rotate3d(0,1,0,"+n+"deg)"}),l=l.index()<3?o[l.index()+1]:o[0],s=d.attr("href"),v(s,l),f()},v=function(t,n){({}).url=t,$(n).children(".gr1_1").children(".inner").empty(),$(n).children(".gr1_1").children(".inner").load("/src/pages/"+t+".html")},g=function(t){$("section").css({transform:"perspective(900px) translate3d(0px,0px,"+t/-2+"px) rotate3d(0,1,0,"+n+"deg)","max-width":t}),$(".gr1").css({transform:"translate3d(0,0,"+t/2+"px)"}),$(".gr2").css({transform:"translate3d(0,0,"+t/2+"px) rotate3d(0,1,0,90deg)"}),$(".gr4").css({transform:"translate3d("+t/-2+"px,0,0) rotate3d(0,1,0,-90deg)"}),$(".gr3").css({transform:"translate3d(0,0,"+t/-2+"px) rotate3d(0,1,0,-180deg)"})};$(r).on("ready",function(){setTimeout(function(){$(".logo").addClass("close_logo")},2e3)}),$(i).on("resize",function(){t=$(window).width(),g(t),t>650&&$(".mobile-link").removeClass("close")}),$(".nav-panel").on("click",function(){return c||(location.hash=$(this).attr("href"),h($(this)),e<p($(this))&&(c=!0,u(),e=p($(this))),e>p($(this))&&(c=!0,x(),e=p($(this)))),!1}),$(".mobile-link").on("click",function(){$(this).hasClass("close")?($("nav").css({left:"-230px"}),$(this).removeClass("close")):($(this).addClass("close"),$("nav").css({left:"0"}))}),$(".left").on("click",function(){if(!c){var t=d.parent().prev("li").children("a");t&&e>0&&(c=!0,h(t),e=p(d,""),x(),location.hash=d.attr("href"))}}),$(".right").on("click",function(){if(!c){var t=d.parent().next("li").children("a");t&&e<6&&(c=!0,h(t),e=p(d,""),u(),location.hash=d.attr("href"))}}),function(t){t<1200&&g(t)}(a),function(){for(var t,n=location.href,e=0,r="",i=!1;e<n.length;)"#"==n[e]&&(t=e+1,i=!0),e++;r=!0===i?n.substring(t):"index";for(var a,s=$("nav").find("a"),o=0;a=s[o++];)if(a.getAttribute("href")==r){$(a).addClass("active"),d=$(a);break}}(),e=p(d,""),v(d.attr("href"),l)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJ1aWxkLmpzIl0sIm5hbWVzIjpbIiQiLCJ2cF93aWR0aCIsIndpZHRoIiwiYW5nbGUiLCJpbmRleCIsImQiLCJkb2N1bWVudCIsInciLCJ3aW5kb3ciLCJ3aW5kb3dXaWR0aCIsImhyZWZzIiwiZ3JpZCIsImJ1c3kiLCJhY3RpdmUiLCJmaW5kIiwiY3VycmVudCIsImZyZWVkIiwic2V0VGltZW91dCIsInNldEFjdGl2ZUJ1dHRvbiIsImEiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiZ2V0SW5kZXgiLCJlbGVtIiwibW9kIiwicGFyZW50IiwicHJldiIsIm5leHQiLCJyb3RhdGVUb2xlZnQiLCJjc3MiLCJ0cmFuc2Zvcm0iLCJhdHRyIiwiZ2V0Q29udGVudCIsInJvdGF0ZVRvcmlnaHQiLCJ1cmwiLCJvcmllbnRhdGlvbiIsImNoaWxkcmVuIiwiZW1wdHkiLCJsb2FkIiwiQ3VzdG9tX1Jlc2l6ZSIsInd3IiwibWF4LXdpZHRoIiwib24iLCJsb2NhdGlvbiIsImhhc2giLCJ0aGlzIiwiaGFzQ2xhc3MiLCJsZWZ0IiwiaW5pdCIsInBvcyIsImxvYyIsImhyZWYiLCJpIiwiZmxhZyIsImxlbmd0aCIsInN1YnN0cmluZyIsImVsZW1zIiwicCIsImdldEF0dHJpYnV0ZSIsInBhcnNlIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRSxXQUNFLElBQUlDLEVBQVdELEVBQUUsWUFBWUUsUUFDekJDLEVBQVEsRUFDUkMsRUFBUSxFQUdSQyxFQUFJQyxTQUNKQyxFQUFJQyxPQUNKQyxFQUFjVCxFQUFFUSxRQUFRTixRQUN4QlEsRUFBUSxHQUNSQyxHQUNBWCxFQUFFLFFBQ0ZBLEVBQUUsUUFDRkEsRUFBRSxRQUNGQSxFQUFFLFNBRUZZLEdBQU8sRUFDUEMsRUFBU2IsRUFBRSxPQUFPYyxLQUFLLFdBQ3ZCQyxFQUFVSixFQUFLLEdBRWZLLEVBQVEsV0FDUkMsV0FBVyxXQUNQTCxHQUFPLEdBbEJPLE9Bc0JsQk0sRUFBa0IsU0FBU0MsR0FDM0JuQixFQUFFLE9BQU9jLEtB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QlEsR0FDaEJ0QixFQUFRa0IsRUFBU1QsRUFBUSxJQUN6QmUsSUFDQWUsU0FBU0MsS0FBTy9CLEVBQU9rQixLQUFLLFlBd0o1Qy9CLEVBQUUsVUFBVTBDLEdBQUcsUUFsSkksV0FDZixJQUFLOUIsRUFBSyxDQUNOLElBQUllLEVBQU9kLEVBQU9ZLFNBQVNFLEtBQUssTUFBTVMsU0FBUyxLQUMzQ1QsR0FDSXZCLEVBQVEsSUFDUlEsR0FBTyxFQUNQTSxFQUFnQlMsR0FDaEJ2QixFQUFRa0IsRUFBU1QsRUFBUSxJQUN6Qm9CLElBQ0FVLFNBQVNDLEtBQU8vQixFQUFPa0IsS0FBSyxZQW1HakMsU0FBU3hCLEdBQ1pBLEVBQUksTUFDSmdDLEVBQWNoQyxHQXNDdEJ5QyxDQUFLdkMsR0FyRU8sV0FLUixJQUpBLElBRUl3QyxFQUZBQyxFQUFNUCxTQUFTUSxLQUNmQyxFQUFJLEVBQ0NELEVBQU8sR0FDWkUsR0FBTyxFQUNKRCxFQUFJRixFQUFJSSxRQUNHLEtBQVZKLEVBQUlFLEtBQ0pILEVBQU1HLEVBQUksRUFDVkMsR0FBTyxHQUVYRCxJQUdBRCxHQURTLElBQVRFLEVBQ09ILEVBQUlLLFVBQVVOLEdBRWQsUUFHWCxJQUFLLElBQVcxQixFQURaaUMsRUFBUXhELEVBQUUsT0FBT2MsS0FBSyxLQUNqQjJDLEVBQUksRUFBU2xDLEVBQU9pQyxFQUFNQyxNQUMvQixHQUFJbEMsRUFBS21DLGFBQWEsU0FBV1AsRUFBTSxDQUNuQ25ELEVBQUV1QixHQUFNRixTQUFTLFVBQ2pCUixFQUFTYixFQUFFdUIsR0FDWCxPQWdEWm9DLEdBeEtJdkQsRUFBUWtCLEVBQVNULEVBQVEsSUEwSzdCbUIsRUFBV25CLEVBQU9rQixLQUFLLFFBQVNoQiIsImZpbGUiOiJidWlsZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdnBfd2lkdGggPSAkKCcjd3JhcHBlcicpLndpZHRoKCk7XHJcbiAgICB2YXIgYW5nbGUgPSAwO1xyXG4gICAgdmFyIGluZGV4ID0gMDtcclxuICAgIHZhciBhbmltYXRlRHVyYXRpb24gPSAxNTAwO1xyXG4gICAgdmFyIG9wZW5fY2xvc2UgPSBmYWxzZTtcclxuICAgIHZhciBkID0gZG9jdW1lbnQ7XHJcbiAgICB2YXIgdyA9IHdpbmRvdztcclxuICAgIHZhciB3aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xyXG4gICAgdmFyIGhyZWZzID0gJyc7XHJcbiAgICB2YXIgZ3JpZCA9IFtcclxuICAgICAgICAkKCcuZ3IxJyksXHJcbiAgICAgICAgJCgnLmdyMicpLFxyXG4gICAgICAgICQoJy5ncjMnKSxcclxuICAgICAgICAkKCcuZ3I0JylcclxuICAgIF07XHJcbiAgICB2YXIgYnVzeSA9IGZhbHNlO1xyXG4gICAgdmFyIGFjdGl2ZSA9ICQoJ25hdicpLmZpbmQoJy5hY3RpdmUnKTtcclxuICAgIHZhciBjdXJyZW50ID0gZ3JpZFswXTtcclxuXHJcbiAgICB2YXIgZnJlZWQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgYnVzeSA9IGZhbHNlO1xyXG4gICAgICAgIH0sIGFuaW1hdGVEdXJhdGlvbik7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBzZXRBY3RpdmVCdXR0b24gPSBmdW5jdGlvbihhKSB7XHJcbiAgICAgICAgJCgnbmF2JykuZmluZCgnYScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAkKGEpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICBhY3RpdmUgPSAkKGEpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgc2VsZWN0TWVudUl0ZW0gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIWJ1c3kpeyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZUJ1dHRvbigkKHRoaXMpKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4IDwgZ2V0SW5kZXgoJCh0aGlzKSkpIHtcclxuICAgICAgICAgICAgICAgIGJ1c3kgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcm90YXRlVG9yaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBnZXRJbmRleCgkKHRoaXMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5kZXggPiBnZXRJbmRleCgkKHRoaXMpKSkge1xyXG4gICAgICAgICAgICAgICAgYnVzeSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByb3RhdGVUb2xlZnQoKTtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gZ2V0SW5kZXgoJCh0aGlzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ICAgICAgICBcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBzZWxlY3RNZW51QnRuID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoXCJjbG9zZVwiKSkge1xyXG4gICAgICAgICAgICAkKCduYXYnKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgbGVmdDogJy0yMzBweCdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2Nsb3NlJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnY2xvc2UnKTtcclxuICAgICAgICAgICAgJCgnbmF2JykuY3NzKHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6ICcwJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBjbG9zZUxvZ28gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKCcubG9nbycpLmFkZENsYXNzKCdjbG9zZV9sb2dvJyk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICB2YXIgYWN0aXZlX2luZGV4ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaW5kZXggPSBnZXRJbmRleChhY3RpdmUsICcnKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIHZhciBsZWZ0SGFuZGxlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghYnVzeSl7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciBwcmV2ID0gYWN0aXZlLnBhcmVudCgpLnByZXYoJ2xpJykuY2hpbGRyZW4oJ2EnKTtcclxuICAgICAgICAgICAgaWYgKHByZXYpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBidXN5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVCdXR0b24ocHJldik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBnZXRJbmRleChhY3RpdmUsICcnKTtcclxuICAgICAgICAgICAgICAgICAgICByb3RhdGVUb2xlZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gYWN0aXZlLmF0dHIoJ2hyZWYnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gICAgICAgIFxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgcmlnaHRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCFidXN5KXtcclxuICAgICAgICAgICAgdmFyIG5leHQgPSBhY3RpdmUucGFyZW50KCkubmV4dCgnbGknKS5jaGlsZHJlbignYScpO1xyXG4gICAgICAgICAgICBpZiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgNikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1c3kgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZUJ1dHRvbihuZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGdldEluZGV4KGFjdGl2ZSwgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0ZVRvcmlnaHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gYWN0aXZlLmF0dHIoJ2hyZWYnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIGdldEluZGV4ID0gZnVuY3Rpb24oZWxlbSwgbW9kKSB7XHJcbiAgICAgICAgaWYgKG1vZCA9PSAncHJldicpIHtcclxuICAgICAgICAgICAgcmV0dXJuICQoZWxlbSkucGFyZW50KCkucHJldignbGknKS5pbmRleCgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobW9kID09ICdwb3N0Jykge1xyXG4gICAgICAgICAgICByZXR1cm4gJChlbGVtKS5wYXJlbnQoKS5uZXh0KCdsaScpLmluZGV4KCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtb2QgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkKGVsZW0pLnBhcmVudCgpLmluZGV4KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICQoZWxlbSkucGFyZW50KCkuaW5kZXgoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciByb3RhdGVUb2xlZnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBhbmdsZSArPSA5MDtcclxuICAgICAgICAkKCdzZWN0aW9uJykuY3NzKHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiAncGVyc3BlY3RpdmUoOTAwcHgpIHRyYW5zbGF0ZTNkKDBweCwwcHgsJyArIHZwX3dpZHRoIC8gLTIgKyAncHgpIHJvdGF0ZTNkKDAsMSwwLCcgKyBhbmdsZSArICdkZWcpJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChjdXJyZW50LmluZGV4KCkgPiAwKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBncmlkW2N1cnJlbnQuaW5kZXgoKSAtIDFdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBncmlkWzNdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBocmVmcyA9IGFjdGl2ZS5hdHRyKCdocmVmJyk7XHJcbiAgICAgICAgZ2V0Q29udGVudChocmVmcywgY3VycmVudCk7XHJcbiAgICAgICAgZnJlZWQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHJvdGF0ZVRvcmlnaHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBhbmdsZSAtPSA5MDtcclxuICAgICAgICAkKCdzZWN0aW9uJykuY3NzKHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiAncGVyc3BlY3RpdmUoOTAwcHgpIHRyYW5zbGF0ZTNkKDBweCwwcHgsJyArIHZwX3dpZHRoIC8gLTIgKyAncHgpIHJvdGF0ZTNkKDAsMSwwLCcgKyBhbmdsZSArICdkZWcpJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChjdXJyZW50LmluZGV4KCkgPCAzKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBncmlkW2N1cnJlbnQuaW5kZXgoKSArIDFdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBncmlkWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBocmVmcyA9IGFjdGl2ZS5hdHRyKCdocmVmJyk7XHJcbiAgICAgICAgZ2V0Q29udGVudChocmVmcywgY3VycmVudCk7XHJcbiAgICAgICAgZnJlZWQoKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGdldENvbnRlbnQgPSBmdW5jdGlvbih1cmwsIG9yaWVudGF0aW9uKSB7XHJcbiAgICAgICAgdmFyIGluZiA9IHt9O1xyXG4gICAgICAgIGluZi51cmwgPSB1cmw7XHJcbiAgICAgICAgJChvcmllbnRhdGlvbikuY2hpbGRyZW4oJy5ncjFfMScpLmNoaWxkcmVuKCcuaW5uZXInKS5lbXB0eSgpO1xyXG4gICAgICAgICQob3JpZW50YXRpb24pLmNoaWxkcmVuKCcuZ3IxXzEnKS5jaGlsZHJlbignLmlubmVyJykubG9hZChcIi9zcmMvcGFnZXMvXCIgKyB1cmwgKyBcIi5odG1sXCIpO1xyXG4gICAgICAgIC8qJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiAnaHR0cDovL3d3dy5tYXN0ZXJyLWJhbGtvbm92LnJ1L2FqYXgtcmVxdWVzdCcsXHJcbiAgICAgICAgICAgIHR5cGU6ICdwb3N0JyxcclxuICAgICAgICAgICAgZGF0YTogaW5mXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZG9uZShmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgICAgICAkKG9yaWVudGF0aW9uKS5jaGlsZHJlbignLmdyMV8xJykuY2hpbGRyZW4oJy5pbm5lcicpLmVtcHR5KCk7XHJcbiAgICAgICAgICAgICQob3JpZW50YXRpb24pLmNoaWxkcmVuKCcuZ3IxXzEnKS5jaGlsZHJlbignLmlubmVyJykuYXBwZW5kKHJlcyk7XHJcbiAgICAgICAgICAgIC8vJCgnLmdyMV8xJykuZW1wdHkoKTtcclxuICAgICAgICAgICAgLy8kKCcuZ3IxXzEnKS5hcHBlbmQocmVzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbihlcnIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICB0aHJvdyhlcnIpO1xyXG4gICAgICAgIH0pOyovXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBwYXJzZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBsb2MgPSBsb2NhdGlvbi5ocmVmO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICB2YXIgcG9zLCBocmVmID0gXCJcIjtcclxuICAgICAgICB2YXIgZmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIHdoaWxlIChpIDwgbG9jLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpZiAobG9jW2ldID09IFwiI1wiKSB7XHJcbiAgICAgICAgICAgICAgICBwb3MgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZsYWcgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgaHJlZiA9IGxvYy5zdWJzdHJpbmcocG9zKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBocmVmID0gXCJpbmRleFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZWxlbXMgPSAkKCduYXYnKS5maW5kKCdhJyk7XHJcbiAgICAgICAgZm9yICh2YXIgcCA9IDAsIGVsZW07IGVsZW0gPSBlbGVtc1twKytdOykge1xyXG4gICAgICAgICAgICBpZiAoZWxlbS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSA9PSBocmVmKSB7XHJcbiAgICAgICAgICAgICAgICAkKGVsZW0pLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9ICQoZWxlbSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL2hyZWYgPSBcIi9zcmMvcGFnZXMvXCIraHJlZitcIi5odG1sXCI7XHJcbiAgICAgICAgLy9yZXR1cm4gaHJlZjtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGluaXQgPSBmdW5jdGlvbih3KSB7XHJcbiAgICAgICAgaWYgKHcgPCAxMjAwKSB7XHJcbiAgICAgICAgICAgIEN1c3RvbV9SZXNpemUodyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgUmVzaXplV2luZG93ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdnBfd2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcclxuICAgICAgICBDdXN0b21fUmVzaXplKHZwX3dpZHRoKTtcclxuICAgICAgICBpZiAodnBfd2lkdGggPiA2NTApIHtcclxuICAgICAgICAgICAgJCgnLm1vYmlsZS1saW5rJykucmVtb3ZlQ2xhc3MoJ2Nsb3NlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQ3VzdG9tX1Jlc2l6ZSA9IGZ1bmN0aW9uKHd3KSB7XHJcbiAgICAgICAgJCgnc2VjdGlvbicpLmNzcyh7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogJ3BlcnNwZWN0aXZlKDkwMHB4KSB0cmFuc2xhdGUzZCgwcHgsMHB4LCcgKyB3dyAvIC0yICsgJ3B4KSByb3RhdGUzZCgwLDEsMCwnICsgYW5nbGUgKyAnZGVnKScsXHJcbiAgICAgICAgICAgICdtYXgtd2lkdGgnOiB3dyxcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcuZ3IxJykuY3NzKHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMCwwLCcgKyB3dyAvIDIgKyAncHgpJyxcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKCcuZ3IyJykuY3NzKHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMCwwLCcgKyB3dyAvIDIgKyAncHgpIHJvdGF0ZTNkKDAsMSwwLDkwZGVnKScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLmdyNCcpLmNzcyh7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKCcgKyB3dyAvIC0yICsgJ3B4LDAsMCkgcm90YXRlM2QoMCwxLDAsLTkwZGVnKScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLmdyMycpLmNzcyh7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDAsMCwnICsgd3cgLyAtMiArICdweCkgcm90YXRlM2QoMCwxLDAsLTE4MGRlZyknLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAkKGQpLm9uKCdyZWFkeScsIGNsb3NlTG9nbyk7XHJcbiAgICAkKHcpLm9uKCdyZXNpemUnLCBSZXNpemVXaW5kb3cpO1xyXG4gICAgJCgnLm5hdi1wYW5lbCcpLm9uKCdjbGljaycsIHNlbGVjdE1lbnVJdGVtKTtcclxuICAgICQoJy5tb2JpbGUtbGluaycpLm9uKCdjbGljaycsIHNlbGVjdE1lbnVCdG4pO1xyXG4gICAgJCgnLmxlZnQnKS5vbignY2xpY2snLCBsZWZ0SGFuZGxlcik7XHJcbiAgICAkKCcucmlnaHQnKS5vbignY2xpY2snLCByaWdodEhhbmRsZXIpO1xyXG5cclxuICAgIGluaXQod2luZG93V2lkdGgpO1xyXG4gICAgcGFyc2UoKTtcclxuICAgIGFjdGl2ZV9pbmRleCgpO1xyXG4gICAgZ2V0Q29udGVudChhY3RpdmUuYXR0cignaHJlZicpLCBjdXJyZW50KTtcclxufSk7Il19
